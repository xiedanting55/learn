{"version":3,"sources":["uni-app:///main.js","webpack:///D:/learn/IFF/shop/pages/car/car.vue?5a32","webpack:///D:/learn/IFF/shop/pages/car/car.vue?a70e","webpack:///D:/learn/IFF/shop/pages/car/car.vue?8bee","webpack:///D:/learn/IFF/shop/pages/car/car.vue?13ed","uni-app:///pages/car/car.vue","webpack:///D:/learn/IFF/shop/pages/car/car.vue?57c0","webpack:///D:/learn/IFF/shop/pages/car/car.vue?82e1","webpack:///D:/learn/IFF/shop/pages/car/car.vue?a6b0","webpack:///D:/learn/IFF/shop/pages/car/car.vue?44f8"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,sF,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,YAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACuD;AACL;AACa;AACyB;;;AAGxF;AACkL;AAClL,gBAAgB,yLAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACxBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,wLAEN;AACP,KAAK;AACL;AACA,aAAa,sKAEN;AACP,KAAK;AACL;AACA,aAAa,gNAEN;AACP,KAAK;AACL;AACA,aAAa,4KAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxEA;AAAA;AAAA;AAAA;AAA2qB,CAAgB,yqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiH/rB,gD;;;;;;AAMA;AACA,MADA,kBACA;AACA;AACA,sBADA;AAEA,cAFA;AAGA,gBAHA,EAGA;AACA,YAJA,EAIA;AACA,kBALA,EAKA;AACA,sBANA;AAOA;AACA,oBADA;AAEA,uBAFA;AAGA,gBAHA,EAPA;;;AAaA,GAfA;AAgBA;AACA,kBADA;AAEA,oBAFA;AAGA,gBAHA;AAIA,8BAJA,EAhBA;;AAsBA;AACA,YADA,oBACA,KADA,EACA;AACA;AACA,KAHA;AAIA,kBAJA,0BAIA,KAJA,EAIA;AACA;AACA;AACA;AACA;AACA,KATA,EAtBA;;AAiCA;AACA,cADA,wBACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,KAVA;AAWA,oBAXA,8BAWA;AACA;AACA,KAbA,EAjCA;;AAgDA,QAhDA,oBAgDA;AACA;AACA,GAlDA;AAmDA;AACA,aApDA,yBAoDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA5DA;AA6DA;AACA,aADA,qBACA,CADA,EACA,IADA,EACA,KADA,EACA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA,KARA;AASA,UATA,kBASA,MATA,EASA;AACA;AACA,uBADA;AAEA;AACA;AACA;AACA;AACA;AACA,WAHA;AAIA;AACA;AACA;AACA,mDADA,EACA;AACA,sDAFA,EAEA;AACA,2CAHA,EAGA;AACA,2CAJA;AAKA,UALA,CAKA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,SAPA;AAQA;AACA;AACA;AACA;AACA,OAlBA;AAmBA,KAvCA;AAwCA;AACA,cAzCA,sBAyCA,KAzCA,EAyCA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA,KAnDA;AAoDA,eApDA,yBAoDA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA,OALA,MAKA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA;AACA,KAlEA;AAmEA;AACA,OApEA,eAoEA,IApEA,EAoEA,KApEA,EAoEA;AACA;AACA;AACA,mBADA;AAEA,0BAFA;AAGA,eAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA,mCADA;AAEA,kDAFA;AAGA,gBAHA,CAGA;AACA;AACA;AACA;AACA,gCADA;;AAGA;AACA,eANA,MAMA;AACA;AACA,gCADA;AAEA,8BAFA;;AAIA;AACA,aAhBA;AAiBA;AACA,SAvBA;;AAyBA,KA/FA;AAgGA,UAhGA,kBAgGA,IAhGA,EAgGA;AACA;AACA,qEADA;;AAGA,KApGA;AAqGA;AACA,cAtGA,wBAsGA;AACA;AACA,6BADA;;AAGA,KA1GA;AA2GA;AACA,SA5GA,mBA4GA;AACA;AACA,6CADA;;AAGA,KAhHA;AAiHA,QAjHA,gBAiHA,GAjHA,EAiHA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KAvHA;AAwHA,kBAxHA,0BAwHA,IAxHA,EAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KApIA;AAqIA,cArIA,sBAqIA,KArIA,EAqIA,SArIA,EAqIA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA;AACA,KA7IA;AA8IA,cA9IA,wBA8IA;AACA;AACA;AACA;AACA,0CADA;AAEA,wCAFA;AAGA,wCAHA;AAIA,2CAJA;AAKA,UALA,CAKA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,SAPA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA,OApBA;AAqBA,KAtKA,EA7DA,E;;;;;;;;;;;;;ACvHA;AAAA;AAAA;AAAA;AAA49B,CAAgB,s7BAAG,EAAC,C;;;;;;;;;;;ACAh/B;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAA0yC,CAAgB,guCAAG,EAAC,C;;;;;;;;;;;ACA9zC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/car/car.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/car/car.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./car.vue?vue&type=template&id=51e9b630&scoped=true&\"\nvar renderjs\nimport script from \"./car.vue?vue&type=script&lang=js&\"\nexport * from \"./car.vue?vue&type=script&lang=js&\"\nimport style0 from \"./car.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./car.vue?vue&type=style&index=1&id=51e9b630&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51e9b630\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/car/car.vue\"\nexport default component.exports","export * from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./car.vue?vue&type=template&id=51e9b630&scoped=true&\"","var components\ntry {\n  components = {\n    itemTop: function() {\n      return import(\n        /* webpackChunkName: \"components/item-top/item-top\" */ \"@/components/item-top/item-top.vue\"\n      )\n    },\n    price: function() {\n      return import(\n        /* webpackChunkName: \"components/price/price\" */ \"@/components/price/price.vue\"\n      )\n    },\n    commonPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/common-popup/common-popup\" */ \"@/components/common-popup/common-popup.vue\"\n      )\n    },\n    tabbar: function() {\n      return import(\n        /* webpackChunkName: \"components/tabbar/tabbar\" */ \"@/components/tabbar/tabbar.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.list.length > 0\n      ? _vm.__map(_vm.list, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var f0 = _vm._f(\"toString\")(item.cart_id)\n\n          var f1 = _vm._f(\"selectedStatus\")(item.selected)\n\n          return {\n            $orig: $orig,\n            f0: f0,\n            f1: f1\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./car.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./car.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"car\">\r\n\t\t<view class=\"car-scroll position-relative\">\r\n\t\t\t<!-- 购物车商品列表 -->\r\n\t\t\t<view class=\"car-list\" v-if=\"list.length > 0\">\r\n\t\t\t\t<view class=\"item p-3 m-3 rounded main-bg-gray-color\" v-for=\"(item, index) in list\" :key=\"index\" @click=\"linkTo(item)\">\r\n\t\t\t\t\t<item-top :pic=\"'/static/images/icon1.png'\" :name=\"item.cat_name\" isBorder>\r\n\t\t\t\t\t\t<template slot=\"right\">\r\n\t\t\t\t\t\t\t<view @click.stop=\"del(item, index)\">删除</view>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</item-top>\r\n\t\t\t\t\t<view class=\"d-flex a-center mt-2\">\r\n\t\t\t\t\t\t<label class=\"radio d-flex a-center j-center flex-shrink\" style=\"width: 80upx;height: 80upx;\"\r\n\t\t\t\t\t\t\t@click.stop=\"selectItem(index)\">\r\n\t\t\t\t\t\t\t<radio color=\"#00332a\" :value=\"item.cart_id|toString\"\r\n\t\t\t\t\t\t\t\t:checked=\"item.selected | selectedStatus\" />\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<image :src=\"item.images\" mode=\"widthFix\" class=\"rounded\"></image>\r\n\t\t\t\t\t\t<view class=\"flex-1 d-flex flex-column pl-2\">\r\n\t\t\t\t\t\t\t<view class=\"main-text-30\">{{item.goods_name}}</view>\r\n\t\t\t\t\t\t\t<view class=\"mb-1\" v-if=\"item.spec_list\">\r\n\t\t\t\t\t\t\t\t<view class=\"bg-white rounded px-1 d-inline-block\" @click.stop=\"specChangeItem(item)\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"mr-2 main-text-24\">{{item.spe}}</text>\r\n\t\t\t\t\t\t\t\t\t<view class=\"arrow arrow-bottom d-inline-block\" v-if=\"item.spec_list\" style=\"margin-bottom: 6rpx;\"></view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"mt-auto d-flex j-sb a-center\">\r\n\t\t\t\t\t\t\t\t<price :sizeNumber=\"36\" :priceValue=\"item.goods_price\" />\r\n\t\t\t\t\t\t\t\t<uni-number-box :min=\"1\" :value=\"item.goods_num\" :max=\"item.max_store\"\n\t\t\t\t\t\t\t\t\t@change.stop=\"changeNum($event, item, index)\"></uni-number-box>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\t<view class=\"tuijian text-center py-3 mx-3\">\r\n\t\t\t\t\t<view class=\"title d-flex a-center j-sb\">\r\n\t\t\t\t\t\t<image src=\"/static/images/tuijian1.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t<text class=\"d-block main-text-30\">为您推荐</text>\r\n\t\t\t\t\t\t<image src=\"/static/images/tuijian2.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"d-flex a-center j-sb mt-3\">\r\n\t\t\t\t\t\t<view class=\"tuijian-item d-flex flex-column a-start\" v-for=\"(item,index) in is_recommend\" :key=\"index\" @click=\"linkTo(item)\">\r\n\t\t\t\t\t\t\t<image :src=\"item.images\"></image>\r\n\t\t\t\t\t\t\t<text class=\"text4 mt-1 main-text-24\">{{item.goods_name}}</text>\r\n\t\t\t\t\t\t\t<text class=\"text4 main-text-20\" style=\"margin-bottom: -12rpx;\">{{item.spe}}</text>\r\n\t\t\t\t\t\t\t<view class=\"d-flex a-center\">\r\n\t\t\t\t\t\t\t\t<price :priceValue=\"item.price\" />\r\n\t\t\t\t\t\t\t\t<text class=\"text5 ml-2 main-text-18\">{{item.sales_sum}}人购买</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 购物车为空 -->\r\n\t\t\t<view class=\"empty d-flex a-center j-center flex-column position-absolute\" v-else>\r\n\t\t\t\t<image src=\"/static/images/car.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t<text class=\"mt-3 main-text-28\">您的购物车是空的</text>\r\n\t\t\t\t<text class=\"main-bg-color text-center text-white mt-2 px-3 py-1 main-text-30 rounded-4\" @click=\"goShopping\">继续购物</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 合计 -->\r\n\t\t<view class=\"count d-flex a-center j-sb position-fixed left-0 right-0 px-3 main-bg-gray-color\" style=\"z-index: 1000;\"  v-if=\"list.length != 0\">\r\n\t\t\t<label class=\"radio d-flex a-center j-sb flex-shrink\" style=\"width: 120upx;\" @click=\"doSelectAll\">\r\n\t\t\t\t<radio color=\"#00332a\" :checked=\"checkedAll\" :disabled=\"disableSelectAll\" />\r\n\t\t\t\t<text class=\"main-text-30\">全选</text>\r\n\t\t\t</label>\r\n\t\t\t<view class=\"d-flex a-center j-sb\">\r\n\t\t\t\t<view class=\"d-flex a-center j-center flex-column\">\r\n\t\t\t\t\t<view class=\"d-flex a-center j-center\">\r\n\t\t\t\t\t\t<text class=\"main-text-30 font-weight\">合计：</text>\r\n\t\t\t\t\t\t<price :sizeNumber=\"36\" :priceValue=\"total_fee\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"d-flex a-center j-center bg-white rounded-4 ml-2 btn\" style=\"height: 100%;\" v-if=\"disableSelectAll || num == 0\"> 结算({{num}})</view>\r\n\t\t\t\t<view class=\"d-flex a-center j-center main-bg-color text-white rounded-4 ml-2 btn\" hover-class=\"main-bg-hover-color\" style=\"height: 100%;\" @click=\"count\" v-else> 结算({{num}})</view>\r\n\t\t\t</view>\r\n\t\t</view>\n\t\t<common-popup :popupClass=\"popup.attr\" @hide=\"hide('attr')\">\n\t\t\t<view class=\"d-flex a-center my-3 popup-top\">\n\t\t\t\t<image :src=\"popup.item.images\" mode=\"widthFix\" style=\"height: 180rpx;width: 180rpx;\" class=\"border rounded\"></image>\n\t\t\t\t<view class=\"pl-2 d-flex a-start flex-column\">\n\t\t\t\t\t<text>{{popup.item.goods_name}}</text>\n\t\t\t\t\t<price :priceValue=\"popup.item.spec_price\"></price>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<scroll-view scroll-y class=\"w-100\" style=\"height: 270rpx;\">\n\t\t\t\t<view class=\"item popup-box\">\n\t\t\t\t\t<template v-if=\"popup.item.spec_list.length > 0\">\n\t\t\t\t\t\t<block v-for=\"(item,index) in popup.item.spec_list\" :key=\"index\">\n\t\t\t\t\t\t\t<view class=\"item-line\">\n\t\t\t\t\t\t\t\t<text class=\"d-block main-text-30\">{{item.spec_name}}</text>\n\t\t\t\t\t\t\t\t<view class=\"item-content d-flex a-center flex-wrap\">\n\t\t\t\t\t\t\t\t\t<text class=\"d-block spec-item py-1 px-2 mt-1 mr-2 main-text-24\" v-for=\"(spec,specIndex) in item.spec_list\" :key=\"specIndex\" :class=\"spec.selected == 1 ? 'main-bg-color text-white' : 'main-bg-gray-color'\" @click=\"specChange(index, specIndex)\">\n\t\t\t\t\t\t\t\t\t\t{{spec.spec_name}}\n\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</block>\n\t\t\t\t\t</template>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t\t<view class=\"text-white font-md d-flex a-center j-center main-bg-color rounded\" style=\"height: 100rpx;\" hover-class=\"main-bg-hover-color\" @tap.stop=\"carConfirm\">加入购物车</view>\n\t\t</common-popup>\r\n\t\t<tabbar :current=\"1\" v-if=\"tabbarShow\"></tabbar>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport tabbar from '@/components/tabbar/tabbar'\r\n\timport itemTop from \"@/components/item-top/item-top\"\r\n\timport price from \"@/components/price/price\"\r\n\timport uniNumberBox from \"@/components/uni-ui/uni-number-box/uni-number-box\"\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapGetters,\r\n\t\tmapActions,\r\n\t\tmapMutations\r\n\t} from \"vuex\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\n\t\t\t\ttabbarShow: true,\r\n\t\t\t\tlist: [],\r\n\t\t\t\tcut_fee: 0, //当前选中商品的总优惠金额\r\n\t\t\t\tnum: 0, //选中商品的总数\r\n\t\t\t\ttotal_fee: 0, //总花费商品金额\r\n\t\t\t\tis_recommend: [],\n\t\t\t\tpopup:{\n\t\t\t\t\tattr:\"none\",\n\t\t\t\t\tservice:\"none\",\n\t\t\t\t\titem: {}\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\ttabbar,\r\n\t\t\titemTop,\r\n\t\t\tprice,\r\n\t\t\tuniNumberBox\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\ttoString(value) {\r\n\t\t\t\treturn value.toString();\r\n\t\t\t},\r\n\t\t\tselectedStatus(value) {\r\n\t\t\t\tif (value == 1) {\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tcheckedAll() {\r\n\t\t\t\tif (this.list.length > 0) {\r\n\t\t\t\t\tlet data = this.list.filter(v => v.selected == 0);\r\n\t\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\t\treturn false\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdisableSelectAll() {\r\n\t\t\t\treturn this.list.length === 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.__init('parmas');\r\n\t\t},\n\t\t// 监听页面返回事件\r\n\t\tonBackPress() {\r\n\t\t\t// 关闭模态框\r\n\t\t\tfor (let key in this.popup) {\r\n\t\t\t\tif (this.popup[key] !== 'none') {\r\n\t\t\t\t\tthis.hide(key)\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tchangeNum(e, item, index) {\r\n\t\t\t\tif (item.goods_num === e) return;\r\n\t\t\t\tthis.list.map(v => {\r\n\t\t\t\t\tif (v.cart_id === item.cart_id) v.goods_num = parseInt(e);\r\n\t\t\t\t\treturn v;\r\n\t\t\t\t})\r\n\t\t\t\tthis.__init();\r\n\t\t\t},\r\n\t\t\t__init(parmas) {\r\n\t\t\t\tlet goodsNumObj = {},\r\n\t\t\t\t\tgoodsCartObj = {};\n\t\t\t\tif(!parmas) {\r\n\t\t\t\t\tif(this.list.length > 0) {\r\n\t\t\t\t\t\tthis.list.forEach(v => {\r\n\t\t\t\t\t\t\tgoodsNumObj[v.cart_id] = v.goods_num;\r\n\t\t\t\t\t\t\tgoodsCartObj[v.cart_id] = v.selected;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\n\t\t\t\t}\r\n\t\t\t\tthis.$H.post('Cart/cartList', {\r\n\t\t\t\t\tpost_goods_num: JSON.stringify(goodsNumObj), //商品数量\r\n\t\t\t\t\tpost_cart_select: JSON.stringify(goodsCartObj), //商品是否选中\r\n\t\t\t\t\tselect_all: this.checkedAll ? 1 : 0, //可不传，默认为0  传1时选中所有\r\n\t\t\t\t\ttoken: this.$store.state.user.token,\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthis.list = res.data.cart_list.map(v=> {\n\t\t\t\t\t\tif(v.spec_list && v.spec_list.length > 0) {\n\t\t\t\t\t\t\tv[\"spec_price\"] = v.spec_list[0].spec_list[0].spec_price;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tv[\"spec_price\"] = v.goods_price;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn v;\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.cut_fee = res.data.cut_fee;\r\n\t\t\t\t\tthis.num = res.data.num;\r\n\t\t\t\t\tthis.total_fee = res.data.total_fee;\r\n\t\t\t\t\tthis.is_recommend = res.data.is_recommend;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 列表选中和取消\r\n\t\t\tselectItem(index) {\r\n\t\t\t\t// 之前是选中，取消选中 \r\n\t\t\t\tif (this.list[index].selected == 1) {\r\n\t\t\t\t\t// 取消当前商品选中状态\r\n\t\t\t\t\tthis.list[index].selected = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 选中\r\n\t\t\t\t\tthis.list[index].selected = 1;\r\n\t\t\t\t}\r\n\t\t\t\tthis.__init();\r\n\t\t\t},\r\n\t\t\tdoSelectAll() {\r\n\t\t\t\tthis.checkedAll != this.checkedAll;\r\n\t\t\t\tif (this.checkedAll) {\r\n\t\t\t\t\tthis.list.map(v => {\r\n\t\t\t\t\t\tv.selected = 0;\r\n\t\t\t\t\t\treturn v;\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.list.map(v => {\r\n\t\t\t\t\t\tv.selected = 1;\r\n\t\t\t\t\t\treturn v;\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tthis.__init();\r\n\t\t\t},\r\n\t\t\t// 删除\r\n\t\t\tdel(data, index) {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\tcontent: \"是否删除该商品\",\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t_this.$H.post('Cart/delCart', {\r\n\t\t\t\t\t\t\t\tcart_id: data.cart_id,\r\n\t\t\t\t\t\t\t\ttoken: _this.$store.state.user.token,\r\n\t\t\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\t\t\tif (res.code === '0000') {\r\n\t\t\t\t\t\t\t\t\t_this.list.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: res.msg\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t_this.__init();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlinkTo(item) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `../goods-detail/goods-detail?id=${item.goods_id}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 继续购物\r\n\t\t\tgoShopping() {\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: \"../goods/goods\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 结算\r\n\t\t\tcount() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'../order-confirm/order-confirm'\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\thide(key){\n\t\t\t\tthis.popup[key] = 'hide'\n\t\t\t\tthis.tabbarShow = true;\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tthis.popup[key] = 'none'\n\t\t\t\t}, 200);\n\t\t\t},\n\t\t\tspecChangeItem(item) {\n\t\t\t\tthis.popup.item = item;\n\t\t\t\tif(item.spec_list && item.spec_list.length > 0) {\n\t\t\t\t\tlet data = item.spec_list[0].spec_list.filter(v=>v.selected == 1);\n\t\t\t\t\tif(data.length > 0) this.$set(this.popup.item, 'spec_price',data[0].spec_price)\n\t\t\t\t}\n\t\t\t\tif(this.popup.item.spec_list) {\n\t\t\t\t\tthis.tabbarShow = false;\n\t\t\t\t\tthis.popup['attr'] = 'show';\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t},\n\t\t\tspecChange(index, specIndex) {\n\t\t\t\tthis.popup.item.spec_list[index].spec_list.map(v=> {\n\t\t\t\t\tthis.$set(v, 'selected', 0);\n\t\t\t\t\tthis.$set(v, 'goods_num', 1);\n\t\t\t\t});\n\t\t\t\tthis.$set(this.popup.item.spec_list[index].spec_list[specIndex], 'selected', 1);\n\t\t\t\tthis.popup.item.spec_price = this.popup.item.spec_list[index].spec_list[specIndex].spec_price;\n\t\t\t\tthis.$forceUpdate();\n\t\t\t},\n\t\t\tcarConfirm() {\n\t\t\t\tlet data = this.popup.item.spec_list[0].spec_list.filter(v => v.selected == 1)\n\t\t\t\tthis.$set(this.popup.item, 'spec_id', data[0].spec_id);\n\t\t\t\tthis.$H.post('Cart/changeCartSpec', {\n\t\t\t\t\tgoods_id: this.popup.item.goods_id,\n\t\t\t\t\tcart_id: this.popup.item.cart_id,\n\t\t\t\t\tspec_id: this.popup.item.spec_id,\n\t\t\t\t\ttoken: this.$store.state.user.token,\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tthis.list = res.data.cart_list.map(v=> {\n\t\t\t\t\t\tif(v.spec_list && v.spec_list.length > 0) {\n\t\t\t\t\t\t\tv[\"spec_price\"] = v.spec_list[0].spec_list[0].spec_price;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tv[\"spec_price\"] = v.goods_price;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn v;\n\t\t\t\t\t});\n\t\t\t\t\tthis.cut_fee = res.data.cut_fee;\n\t\t\t\t\tthis.num = res.data.num;\n\t\t\t\t\tthis.total_fee = res.data.total_fee;\n\t\t\t\t\tthis.is_recommend = res.data.is_recommend;\n\t\t\t\t\tthis.tabbarShow = true;\n\t\t\t\t\tthis.popup['attr'] = 'hide';\n\t\t\t\t})\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style>\r\n\tpage {\r\n\t\theight: calc(100vh - 100rpx);\r\n\t\t/* overflow-y: scroll !important; */\r\n\t}\r\n\t.car-scroll {\r\n\t\theight: calc(100vh - 230rpx);\r\n\t\toverflow-y: scroll !important;\r\n\t}\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.empty {\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%,-50%);\r\n\t\timage {\r\n\t\t\twidth: 180rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.car-list {\r\n\t\t.item {\r\n\t\t\timage {\r\n\t\t\t\twidth: 175rpx;\r\n\t\t\t\theight: 175rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.tuijian {\r\n\t\t\t.title {\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 260rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttext {\r\n\t\t\t\t\twidth: 152rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.text4 {\r\n\t\t\t\tline-height: 38rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.tuijian-item {\r\n\t\t\t\twidth: 335rpx;\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 335rpx;\r\n\t\t\t\t\theight: 335rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.count {\r\n\t\tbottom: 140rpx;\r\n\t\theight: 130rpx;\r\n\t\t.btn {\r\n\t\t\twidth: 180rpx;\r\n\t\t\tline-height: 80rpx;\r\n\t\t}\r\n\t}\n\t\n\t.popup-top {\n\t\timage {\n\t\t\tborder-color: #e4e4e4;\n\t\t}\n\t}\r\n</style>\n","import mod from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./car.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./car.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1645146628234\n      var cssReload = require(\"D:/xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./car.vue?vue&type=style&index=1&id=51e9b630&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./car.vue?vue&type=style&index=1&id=51e9b630&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1645146629458\n      var cssReload = require(\"D:/xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}