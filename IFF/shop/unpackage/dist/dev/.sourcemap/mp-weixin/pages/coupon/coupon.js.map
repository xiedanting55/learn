{"version":3,"sources":["uni-app:///main.js","webpack:///D:/learn/IFF/shop/pages/coupon/coupon.vue?aad4","webpack:///D:/learn/IFF/shop/pages/coupon/coupon.vue?dcb9","webpack:///D:/learn/IFF/shop/pages/coupon/coupon.vue?8188","webpack:///D:/learn/IFF/shop/pages/coupon/coupon.vue?357c","uni-app:///pages/coupon/coupon.vue","webpack:///D:/learn/IFF/shop/pages/coupon/coupon.vue?e651","webpack:///D:/learn/IFF/shop/pages/coupon/coupon.vue?b6b2"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,gG,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACkL;AAClL,gBAAgB,yLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sKAEN;AACP,KAAK;AACL;AACA,aAAa,wLAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtEA;AAAA;AAAA;AAAA;AAA8qB,CAAgB,4qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoDlsB;AACA,MADA,kBACA;AACA;AACA,mBADA;AAEA,oBAFA;AAGA,iBAHA;AAIA,gBAJA;AAKA,oBALA;AAMA;AACA;AACA,kBADA;AAEA,gBAFA,EADA;;AAKA;AACA,mBADA;AAEA,eAFA,EALA;;AASA;AACA,mBADA;AAEA,eAFA,EATA,CANA;;;AAoBA,mBApBA;;AAsBA,GAxBA;AAyBA;AACA,oBADA;AAEA,gBAFA;AAGA,oBAHA,EAzBA;;AA8BA,QA9BA,kBA8BA,MA9BA,EA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA;;AAKA;AACA,GA1CA;AA2CA;AACA,gBADA,wBACA,GADA,EACA;AACA;AACA,gBADA;AAEA,gBAFA;;AAIA;AACA,KAPA;AAQA,YARA,oBAQA,KARA,EAQA;AACA;AACA,KAVA,EA3CA;;AAuDA;AACA;AACA,aAFA,qBAEA,KAFA,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAVA;AAWA;AACA,eAZA,uBAYA,CAZA,EAYA;AACA;AACA,KAdA;AAeA,UAfA,oBAeA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBADA;AAEA;AACA,4BAHA;;AAKA;AACA;AACA;AACA;AACA,aAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,YADA,GACA,oBADA,CACA,EADA;AAEA;AACA;AACA;AACA,WAHA;AAIA;;AAEA,OA3BA;AA4BA,KAlDA;AAmDA;AACA,WApDA,qBAoDA;AACA;AACA,qBAFA,GAEA,eAFA;AAGA,mBAHA,GAGA,uBAHA;AAIA;AACA,kBALA,GAKA,wBALA;AAMA;AACA,oBAPA,GAOA,iDAPA;;AASA;AACA;AACA;AAXA,yCAYA;AACA,2BADA;AAEA,8DAFA;AAGA,yDAHA,GAZA,QAYA,IAZA;;;AAkBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBA7BA;AA8BA,KAlFA;AAmFA;AACA,YApFA,oBAoFA,KApFA,EAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,sBAFA;;AAIA,OALA;AAMA,KAhGA;AAiGA;AACA,cAlGA,sBAkGA,EAlGA,EAkGA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,SAPA;AAQA;AACA,KA7GA;AA8GA,UA9GA,kBA8GA,MA9GA,EA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA,WAPA;AAQA;AACA,OAXA,MAWA;AACA;AACA,2BADA;AAEA,sBAFA;;AAIA;AACA,KAjIA;AAkIA,WAlIA,qBAkIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBADA;;AAGA;AACA,KA9IA,EAvDA,E;;;;;;;;;;;;;ACpDA;AAAA;AAAA;AAAA;AAA6yC,CAAgB,muCAAG,EAAC,C;;;;;;;;;;;ACAj0C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/coupon/coupon.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/coupon/coupon.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./coupon.vue?vue&type=template&id=032f11f4&scoped=true&\"\nvar renderjs\nimport script from \"./coupon.vue?vue&type=script&lang=js&\"\nexport * from \"./coupon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./coupon.vue?vue&type=style&index=0&id=032f11f4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"032f11f4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/coupon/coupon.vue\"\nexport default component.exports","export * from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=template&id=032f11f4&scoped=true&\"","var components\ntry {\n  components = {\n    price: function() {\n      return import(\n        /* webpackChunkName: \"components/price/price\" */ \"@/components/price/price.vue\"\n      )\n    },\n    noThing: function() {\n      return import(\n        /* webpackChunkName: \"components/no-thing/no-thing\" */ \"@/components/no-thing/no-thing.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.newsitems, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var l0 =\n      item.list.length > 0\n        ? _vm.__map(item.list, function(coupon, couponIndex) {\n            var $orig = _vm.__get_orig(coupon)\n\n            var f0 =\n              _vm.tabIndex == 0 && _vm.status\n                ? _vm._f(\"toString\")(coupon.id)\n                : null\n            return {\n              $orig: $orig,\n              f0: f0\n            }\n          })\n        : null\n    return {\n      $orig: $orig,\n      l0: l0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"coupon\" style=\"height: 100vh;display: flex;flex-direction: column;\">\n\t\t<scroll-view scroll-x class=\"border-bottom scroll-row mx-3\" style=\"height: 80rpx;\" :scroll-into-view=\"scrollinto\" :scroll-with-animation=\"true\">\n\t\t\t<view class=\"scroll-row-item px-3\" @click=\"changeTab(index)\" style=\"height: 72rpx;line-height: 80rpx;\" v-for=\"(item,index) in tabBars\" :key=\"index\" :class=\"tabIndex === index ? 'active':''\" :id=\"'tab'+index\">\n\t\t\t\t<text class=\"font-md\">{{item.name}}</text>\n\t\t\t</view>\n\t\t</scroll-view>\n\t\t<swiper :duration=\"150\" :current=\"tabIndex\" style=\"flex: 1;\" @change=\"onChangeTab\">\n\t\t\t<swiper-item v-for=\"(item,index) in newsitems\" :key=\"index\">\n\t\t\t\t<scroll-view scroll-y=\"true\" :style=\"'height:'+scrollH+'px;'\" @scrolltolower=\"loadmore(index)\" :show-scrollbar=\"false\">\n\t\t\t\t\t<template v-if=\"item.list.length > 0\">\n\t\t\t\t\t\t\t<view class=\"mx-3\">\n\t\t\t\t\t\t\t\t<view v-for=\"(coupon, couponIndex) in item.list\" :key=\"coupon.id\" @click=\"linkTo(coupon)\">\n\t\t\t\t\t\t\t\t\t<itemTop :pic=\"'/static/images/icon1.png'\" :name=\"coupon.name\" />\r\n\t\t\t\t\t\t\t\t\t<view class=\"d-flex a-center j-sb mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t<label v-if=\"tabIndex == 0 && status\" class=\"radio d-flex a-center j-center flex-shrink\" style=\"width: 80upx;height: 80upx;\" @click.stop=\"selectItem(coupon.id)\">\r\n\t\t\t\t\t\t\t\t\t\t\t<radio color=\"#00332a\" :value=\"coupon.id | toString\" :checked=\"coupon.selected\" :disabled=\"status && coupon.can_use !== 1\" />\r\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<view class=\"coupon-list d-flex a-center j-sb pr-3 position-relative\" :class=\"tabIndex == 0 && status ? 'wid' : ''\">\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"bg position-absolute left-0 top-0 w-100 rounded\" v-if=\"status && coupon.can_use !== 1\"></view>\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"d-flex flex-column a-center j-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<price :sizeBol=\"40\" :sizeNumber=\"50\" :priceValue=\"coupon.money\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-center main-bg-color text-white rounded-4 main-text-20 px-2\">店铺优惠券</text>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"d-flex flex-column row2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"main-text-color main-text-30\">满{{coupon.condition}}可用</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"main-text-24\">距到期仅剩{{coupon.tetime}}天</text>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"text2 d-block main-bg-color text-white rounded-4 text-center main-text-30\">{{coupon.order_id == 0 ? '未使用' : '已使用'}}</text>\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t</template>\n\t\t\t\t\t<!-- 没有数据 -->\n\t\t\t\t\t<no-thing v-else msg=\"没有数据\"></no-thing>\n\t\t\t\t\t<view class=\"d-flex j-center a-center pt-3\" v-if=\"item.list.length > 0\">\n\t\t\t\t\t\t<text class=\"font-md text-light-muted\">{{item.loadtext}}</text>\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"item.list.length > 0 && tabIndex == 0 && status\" class=\"position-fixed btn d-flex a-center j-center main-bg-color rounded-4\" hover-class=\"main-bg-hover-color\" @click=\"confirm\">\r\n\t\t\t\t\t\t<text class=\"text-white font-weight ml-1 main-text-30\">确认优惠券</text>\r\n\t\t\t\t\t</view>\n\t\t\t\t</scroll-view>\n\t\t\t</swiper-item>\n\t\t</swiper>\n\t</view>\n</template>\n\n<script>\n\timport itemTop from \"@/components/item-top/item-top\"\n\timport price from \"@/components/price/price\"\r\n\timport noThing from \"@/components/no-thing/no-thing\"\n\texport default {\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\tstatus: false,\r\n\t\t\t\tcouponList: [],\n\t\t\t\ttabIndex: 0,\r\n\t\t\t\tscrollH: 0,\n\t\t\t\tscrollinto: \"\",\n\t\t\t\ttabBars: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"全部\",\n\t\t\t\t\t\ttype: \"\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"已使用\",\n\t\t\t\t\t\ttype: 1\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"已过期\",\n\t\t\t\t\t\ttype: 2\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tnewsitems: []\n\t\t\t}\n\t\t},\n\t\tcomponents: {\n\t\t\titemTop,\n\t\t\tprice,\n\t\t\tnoThing\n\t\t},\n\t\tonLoad(option) {\r\n\t\t\tif(Object.keys(option).length > 0) {\r\n\t\t\t\tthis.status = option.status;\r\n\t\t\t\tthis.couponList = JSON.parse(option.couponList);\r\n\t\t\t}\n\t\t\t// 获取可视区域高度\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tthis.scrollH = res.windowHeight - res.statusBarHeight/2 - uni.upx2px(80);\r\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.__init();\n\t\t},\n\t\tfilters: {\n\t\t\tstatusFilter(val) {\n\t\t\t\tlet obj = {\n\t\t\t\t\t1: \"已使用\",\n\t\t\t\t\t2: \"已过期\"\n\t\t\t\t}\n\t\t\t\treturn obj[val]\n\t\t\t},\r\n\t\t\ttoString(value) {\r\n\t\t\t\treturn value.toString();\r\n\t\t\t}\n\t\t},\n\t\tmethods: {\r\n\t\t\t// 切换选项卡\r\n\t\t\tchangeTab(index) {\r\n\t\t\t\tif (this.tabIndex === index) return;\r\n\t\t\t\tthis.tabIndex = index;\r\n\t\t\t\tthis.scrollinto = 'tab' + index;\r\n\t\t\t\tlet item = this.newsitems[index];\r\n\t\t\t\t// 是否处于可加载状态\r\n\t\t\t\tif (item.loadtext !== '加载更多') return;\r\n\t\t\t\tthis.addData()\r\n\t\t\t},\r\n\t\t\t// 监听滑动列表\r\n\t\t\tonChangeTab(e) {\r\n\t\t\t\tthis.changeTab(e.detail.current)\r\n\t\t\t},\n\t\t\t__init() {\r\n\t\t\t\tlet obj = {};\r\n\t\t\t\tif(!this.status) {\r\n\t\t\t\t\tobj = {\"p\": 1, \"type\": this.tabBars[this.tabIndex].type,\"token\": this.$store.state.user.token}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tobj = {\"act\":\"order\", \"p\": 1, \"type\": this.tabBars[this.tabIndex].type,\"token\": this.$store.state.user.token}\r\n\t\t\t\t}\n\t\t\t\tthis.$H.post('User/getCouponList', obj).then((res) => {\n\t\t\t\t\t// 根据顶部选项卡生成页面\n\t\t\t\t\tlet arr = []\n\t\t\t\t\tfor (var i = 0; i < this.tabBars.length; i++) {\n\t\t\t\t\t\tlet obj = {\n\t\t\t\t\t\t\tlist:[],\n\t\t\t\t\t\t\t// 1.加载更多 2.加载中... 3.没有更多了\n\t\t\t\t\t\t\tloadtext:\"加载更多\",\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i === this.tabIndex) {\n\t\t\t\t\t\t\tobj.list = res.data.couponList.map(v=> {\r\n\t\t\t\t\t\t\t\tv[\"selected\"] = false;\r\n\t\t\t\t\t\t\t\treturn v;\r\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tobj.loadtext = res.data.couponList.length < 6 ? '没有更多了' : '加载更多';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tarr.push(obj)\n\t\t\t\t\t}\n\t\t\t\t\tthis.newsitems = arr;\r\n\t\t\t\t\tif(this.couponList.length > 0) {\r\n\t\t\t\t\t\tlet {id} = this.couponList[0];\r\n\t\t\t\t\t\tthis.newsitems[this.tabIndex].list.map(v=> {\r\n\t\t\t\t\t\t\tif(v.id === id) v.selected = true;\r\n\t\t\t\t\t\t\treturn v;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 加载数据\n\t\t\tasync addData(callback = false,refresh = false){\n\t\t\t\t// 拿到当前索引\n\t\t\t\tlet index = this.tabIndex;\n\t\t\t\tlet obj = this.newsitems[index]\n\t\t\t\t// 拿到当前分类id\n\t\t\t\tlet id = this.tabBars[index].id\n\t\t\t\t// 拿到当前分类的分页数\n\t\t\t\tlet page = !refresh ? (Math.ceil(obj.list.length/6) + 1) : 1\n\t\t\t\t\n\t\t\t\t// 请求前\n\t\t\t\tif (page === 1) obj.loadtext = '加载中...';\n\t\t\t\t// 请求数据\n\t\t\t\tlet data = await this.$H.post('User/getCouponList',{\n\t\t\t\t\t\"p\": page, \n\t\t\t\t\t\"type\": this.tabBars[this.tabIndex].type,\n\t\t\t\t\t\"token\": this.$store.state.user.token,\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// 请求完数据\n\t\t\t\tif (page === 1) obj.firstLoad = '加载更多';\n\t\t\t\t\n\t\t\t\tif (data.data.couponList) {\n\t\t\t\t\t// 赋值\n\t\t\t\t\tobj.list = !refresh ? [...obj.list,...data.data.couponList] : data.data.couponList\n\t\t\t\t\tobj.loadtext = data.data.couponList.length < 6 ? '没有更多了' : '加载更多'\n\t\t\t\t}\n\t\t\t\t// 执行回调函数\n\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\tcallback()\n\t\t\t\t}\n\t\t\t},\r\n\t\t\t// 加载更多\r\n\t\t\tloadmore(index){\r\n\t\t\t\tlet item = this.newsitems[index]\r\n\t\t\t\t// 是否处于可加载状态\r\n\t\t\t\tif (item.loadtext !== '加载更多') return;\r\n\t\t\t\t// 加载\r\n\t\t\t\titem.loadtext = '加载中...'\r\n\t\t\t\tthis.addData(()=>{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'加载成功',\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// radio单选\r\n\t\t\tselectItem(id) {\r\n\t\t\t\tif(this.tabIndex == 0) {\r\n\t\t\t\t\tthis.newsitems[this.tabIndex].list.map(v=> {\r\n\t\t\t\t\t\tif(v.id === id) {\r\n\t\t\t\t\t\t\tv.selected ? v.selected = false : v.selected = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tv.selected = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn v;\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlinkTo(coupon) {\r\n\t\t\t\tif(!this.status) return;\n\t\t\t\tif(this.status && coupon.can_use == 1) {\r\n\t\t\t\t\tif(this.tabIndex == 0) {\r\n\t\t\t\t\t\tthis.newsitems[this.tabIndex].list.map(v=> {\r\n\t\t\t\t\t\t\tif(v.id === coupon.id) {\r\n\t\t\t\t\t\t\t\tv.selected ? v.selected = false : v.selected = true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tv.selected = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn v;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"该优惠卷不可使用\",\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t})\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tconfirm() {\r\n\t\t\t\tif(this.status) {\r\n\t\t\t\t\tlet coupon = this.newsitems[this.tabIndex].list.filter(v => v.selected);\r\n\t\t\t\t\tvar pages = getCurrentPages();\r\n\t\t\t\t\tvar prevPage = pages[pages.length - 2]; \r\n\t\t\t\t\tlet couponListData = [];\r\n\t\t\t\t\tif(coupon.length > 0) couponListData.push(coupon[0]);\r\n\t\t\t\t\tprevPage.setData({couponList: couponListData})\r\n\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.coupon {\r\n\t\t.scroll-row-item {\r\n\t\t\t&.active {\r\n\t\t\t\tborder-bottom: 3rpx solid #00332a;\r\n\t\t\t}\r\n\t\t}\n\t\t.coupon-list {\n\t\t\tpadding-left: 60rpx;\r\n\t\t\twidth: 100%;\n\t\t\theight: 186rpx;\n\t\t\tbackground: url(../../static/images/coupon-bg.png) center center no-repeat;\n\t\t\tbackground-size: 100% 100%;\r\n\t\t\t&.wid {\r\n\t\t\t\twidth: 610upx;\r\n\t\t\t}\n\t\t\t.row2 {\n\t\t\t\ttext {\n\t\t\t\t\t\t&:nth-of-type(1) {\n\t\t\t\t\t\t\tfont-size: 30rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t&:nth-of-type(2) {\n\t\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\t\tcolor: #2a2a2a;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t.text2 {\n\t\t\t\twidth: 124rpx;\n\t\t\t\tfont-size: 30rpx;\n\t\t\t}\n\t\t}\n\t\t.bg {\n\t\t\theight: 100%;\n\t\t\tbackground: rgba(150,150,150,0.4);\n\t\t\tz-index: 1000;\n\t\t\tborder-radius: 24rpx;\n\t\t}\n\t\t.btn {\n\t\t\twidth: 400rpx;\n\t\t\tline-height: 88rpx;\n\t\t\tbottom: 20rpx;\n\t\t\tleft: 50%;\n\t\t\ttransform: translate(-50%,0);\r\n\t\t\tz-index: 1001;\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=style&index=0&id=032f11f4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=style&index=0&id=032f11f4&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1645146629691\n      var cssReload = require(\"D:/xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}