{"version":3,"sources":["webpack:///D:/learn/IFF/shop/pages/my-info/my-info.vue?1183","uni-app:///main.js","webpack:///D:/learn/IFF/shop/pages/my-info/my-info.vue?4a5d","webpack:///D:/learn/IFF/shop/pages/my-info/my-info.vue?1c74","webpack:///D:/learn/IFF/shop/pages/my-info/my-info.vue?1aff","webpack:///D:/learn/IFF/shop/pages/my-info/my-info.vue?99f1","uni-app:///pages/my-info/my-info.vue","webpack:///D:/learn/IFF/shop/pages/my-info/my-info.vue?8022"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;AAAA;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;kDCNL;AACA;AACA,iG,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACsC;;;AAG5F;AACkL;AAClL,gBAAgB,yLAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA+qB,CAAgB,6qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyEnsB;AACA,gD;AACA;AACA,MADA,kBACA;AACA;AACA,kBADA;AAEA,kBAFA;AAGA,gBAHA;AAIA,aAJA;AAKA,iBALA;AAMA;AACA,cADA;AAEA,kBAFA;;AAIA;AACA,cADA;AAEA,iBAFA,EAJA;;AAQA;AACA,cADA;AAEA,iBAFA,EARA,CANA;;;AAmBA,kBAnBA;AAoBA,iBApBA;AAqBA,qBArBA;;AAuBA,GAzBA;AA0BA;AACA,cADA,sBACA,GADA,EACA;AACA;AACA,eADA;AAEA,cAFA;AAGA,cAHA;;AAKA;AACA,KARA,EA1BA;;AAoCA,QApCA,oBAoCA;AACA;AACA,GAtCA;AAuCA,QAvCA,oBAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA9CA;AA+CA;AACA,qCADA;AAEA,UAFA,oBAEA;AACA;AACA,2CADA;AAEA,UAFA,CAEA;AACA,qBADA,CACA,QADA,kBACA,QADA,CACA,QADA,kBACA,QADA,CACA,MADA,kBACA,MADA,CACA,GADA,kBACA,GADA,CACA,QADA,kBACA,QADA,CACA,QADA,kBACA,QADA,CACA,IADA,kBACA,IADA,CACA,QADA,kBACA,QADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAbA;AAcA,KAjBA;AAkBA;AACA,kBAnBA,4BAmBA;AACA;AACA;AACA,6BADA;AAEA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA,oBADA;AAEA,gDAFA,EAEA;AACA;AACA;AACA;AACA,aANA;;AAQA,SAXA;AAYA,YAZA,gBAYA,GAZA,EAYA;AACA;AACA,uBADA;AAEA,sCAFA;AAGA,6BAHA;AAIA,4BAJA;AAKA;AACA;AACA;AACA,mDADA;;AAGA;AACA,aAXA;;AAaA,SA1BA;;AA4BA,KAjDA;AAkDA;AACA,eAnDA,uBAmDA,QAnDA,EAmDA;AACA;AACA,4EADA;AAEA,0BAFA;AAGA,oBAHA;AAIA,yDAJA;AAKA;AACA,wBADA;AAEA,6CAFA,EALA;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAhBA;;AAkBA,KAtEA;AAuEA;AACA,kBAxEA,4BAwEA;AACA;AACA,yBADA;AAEA,qBAFA;AAGA,uBAHA;AAIA,wBAJA;AAKA,4BALA;AAMA,gCANA;AAOA,kCAPA;AAQA,2BARA;;AAUA;AACA,4EADA;;AAGA,KAtFA;AAuFA;AACA,gBAxFA,0BAwFA;AACA;AACA,2BADA;AAEA,uBAFA;AAGA,uBAHA;AAIA,sBAJA;AAKA,0BALA;AAMA,kCANA;AAOA,kCAPA;AAQA,2BARA;;AAUA;AACA,4EADA;;AAGA,KAtGA;AAuGA,kBAvGA,0BAuGA,CAvGA,EAuGA;AACA;AACA;AACA;AACA,6BADA;AAEA,wDAFA;AAGA,YAHA,CAGA;AACA;AACA;AACA,SANA,EAMA,KANA,CAMA;AACA;AACA;AACA,4BADA;AAEA,0BAFA;;AAIA;AACA;AACA,SAdA;AAeA,OAhBA,MAgBA;AACA;AACA;AACA,KA5HA;AA6HA;AACA,mBA9HA,2BA8HA,CA9HA,EA8HA;AACA;AACA;AACA;AACA,KAlIA;AAmIA;AACA,kBApIA,0BAoIA,CApIA,EAoIA;AACA;AACA;AACA;AACA,KAxIA;AAyIA;AACA,oBA1IA,4BA0IA,CA1IA,EA0IA;AACA;AACA;AACA;AACA;AACA;AACA,KAhJA;AAiJA,cAjJA,sBAiJA,GAjJA,EAiJA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA,KAvJA;AAwJA,iBAxJA,2BAwJA;AACA;AACA,+BADA;AAEA,+BAFA;AAGA,0BAHA;AAIA,+BAJA;AAKA,+DALA;AAMA,2DANA;AAOA,+DAPA;AAQA,2CARA;;AAUA;AACA,KApKA;AAqKA,UArKA,oBAqKA;AACA;AACA,iCADA;;AAGA,KAzKA,GA/CA,E;;;;;;;;;;;;;AC3EA;AAAA;AAAA;AAAA;AAA8yC,CAAgB,ouCAAG,EAAC,C","file":"pages/my-info/my-info.js","sourcesContent":["// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1645146629443\n      var cssReload = require(\"D:/xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/my-info/my-info.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./my-info.vue?vue&type=template&id=52d94f66&scoped=true&\"\nvar renderjs\nimport script from \"./my-info.vue?vue&type=script&lang=js&\"\nexport * from \"./my-info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./my-info.vue?vue&type=style&index=0&id=52d94f66&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52d94f66\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/my-info/my-info.vue\"\nexport default component.exports","export * from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my-info.vue?vue&type=template&id=52d94f66&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my-info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my-info.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"my-info\">\r\n\t\t<text class=\"m-3 main-text-30 d-block\">基本信息</text>\r\n\t\t<view class=\"my-info-list rounded mx-3 main-bg-gray-color\">\r\n\t\t\t<view class=\"item d-flex a-center j-sb border-bottom py-2\">\r\n\t\t\t\t<text class=\"main-text-24 pl-1\">头像</text>\r\n\t\t\t\t<view class=\"d-flex a-center j-sb item-re\" @click=\"upfilePortrait\">\r\n\t\t\t\t\t<image :src=\"head_pic ? head_pic : '/static/images/my_head.png'\" class=\"photo rounded-circle\"></image>\r\n\t\t\t\t\t<view class=\"arrow arrow-right mr-1\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item d-flex a-center j-sb border-bottom py-2\">\r\n\t\t\t\t<text class=\"main-text-24 pl-1\">昵称</text>\r\n\t\t\t\t<view class=\"d-flex a-center j-sb item-re\" @click=\"nicknameLinkTo\">\r\n\t\t\t\t\t<text class=\"text2 main-text-24\">{{nickname}}</text>\r\n\t\t\t\t\t<view class=\"arrow arrow-right mr-1\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item d-flex a-center j-sb border-bottom py-2\">\r\n\t\t\t\t<text class=\"main-text-24 pl-1\">手机号</text>\r\n\t\t\t\t<view class=\"d-flex a-center j-sb item-re\" @click=\"mobileLinkTo\">\r\n\t\t\t\t\t<text class=\"text2 main-text-24\">{{mobile}}</text>\r\n\t\t\t\t\t<view class=\"arrow arrow-right mr-1\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t<!-- \t<view class=\"d-flex a-center j-sb item-re d-flex a-center j-sb\">\r\n\t\t\t\t\t<view class=\"d-flex a-center j-sb span-14\" @click=\"mobileLinkTo\">\r\n\t\t\t\t\t\t<text class=\"text2 main-text-24\">{{mobile}}</text>\r\n\t\t\t\t\t\t<view class=\"arrow arrow-right mr-1\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<button class='phone main-text-18 text-white px-1' open-type=\"getPhoneNumber\" @getphonenumber=\"getPhoneNumber\">授权手机号</button>\r\n\t\t\t\t</view> -->\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item d-flex a-center j-sb border-bottom py-2\">\r\n\t\t\t\t<text class=\"main-text-24 pl-1\">性别</text>\r\n\t\t\t\t<view class=\"d-flex a-center j-sb item-re\">\r\n\t\t\t\t\t<picker class=\"text2 main-text-24 w-100\" @change=\"sexPickerChange\" :value=\"sexIndex\" :range=\"sexList\" range-key=\"name\">\r\n\t\t\t\t\t\t<view class=\"uni-input\">{{sexList[sexIndex].name}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t\t<view class=\"arrow arrow-right mr-1\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item d-flex a-center j-sb border-bottom py-2\">\r\n\t\t\t\t<text class=\"main-text-24 pl-1\">生日</text>\r\n\t\t\t\t<view class=\"d-flex a-center j-sb item-re\">\r\n\t\t\t\t\t<picker class=\"text2 main-text-24 w-100\" mode=\"date\" :value=\"birthday\" @change=\"birthdayChange\">\r\n\t\t\t\t\t    <view class=\"uni-input\">{{birthday}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t\t<view class=\"arrow arrow-right mr-1\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item d-flex a-center j-sb border-bottom py-2\">\r\n\t\t\t\t<text class=\"main-text-24 pl-1\">地区</text>\r\n\t\t\t\t<view class=\"d-flex a-center j-sb item-re\">\r\n\t\t\t\t\t<picker mode=\"region\" class=\"w-100\" :value=\"address\" @change=\"bindPickerChange\">\r\n\t\t\t\t\t\t<text class=\"text2 main-text-24\" v-if=\"address[0] == 0\">{{address}}</text>\r\n\t\t\t\t\t\t<text class=\"text2 main-text-24\" v-else>{{address[0]}},{{address[1]}},{{address[2]}}</text>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t\t<view class=\"arrow arrow-right mr-1\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item d-flex a-center j-sb border-bottom py-2\">\r\n\t\t\t\t<text class=\"main-text-24 pl-1\">收货地址</text>\r\n\t\t\t\t<view class=\"d-flex a-center j-sb item-re\" @click=\"linkTo\">\r\n\t\t\t\t\t<text class=\"text2\"></text>\r\n\t\t\t\t\t<view class=\"arrow arrow-right mr-1\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"main-bg-color text-white mx-3 mt-5 send font-weight rounded-4 text-center main-text-30\" @click=\"updateInfoBtn\">更新</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport req from \"../../common/utils/request\"\r\n\timport {mapMutations} from 'vuex';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\thead_pic: \"\",\r\n\t\t\t\tnickname: \"\",\r\n\t\t\t\tmobile: \"\",\r\n\t\t\t\tsex: \"\",\r\n\t\t\t\tsexIndex: 0,\r\n\t\t\t\tsexList: [{\r\n\t\t\t\t\t\tkey: 0,\r\n\t\t\t\t\t\tname: '保密'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey: 1,\r\n\t\t\t\t\t\tname: '男'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey: 2,\r\n\t\t\t\t\t\tname: '女'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tbirthday: \"\",\r\n\t\t\t\taddress: [],\r\n\t\t\t\taddressCode: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\tsexFilters(val) {\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\t0: \"保密\",\r\n\t\t\t\t\t1: \"男\",\r\n\t\t\t\t\t2: \"女\"\r\n\t\t\t\t}\r\n\t\t\t\treturn obj[val];\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.__init()\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tvar pages = getCurrentPages();\r\n\t\t\tvar curPage = pages[pages.length - 1]; \r\n\t\t\tif(curPage.data.initTag){\r\n\t\t\t    curPage.data.initTag = false;\r\n\t\t\t    this.__init();\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['update']),\r\n\t\t\t__init() {\r\n\t\t\t\tthis.$H.post('User/Userinfo', {\r\n\t\t\t\t\ttoken: this.$store.state.user.token\r\n\t\t\t\t}).then((res)=> {\r\n\t\t\t\t\tlet {head_pic, nickname, mobile, sex, birthday, province, city, district} = res.data.data;\r\n\t\t\t\t\tthis.head_pic = head_pic;\r\n\t\t\t\t\tthis.nickname = nickname;\r\n\t\t\t\t\tthis.mobile = mobile;\r\n\t\t\t\t\tthis.sexIndex = sex;\r\n\t\t\t\t\tthis.birthday = birthday ? birthday : \"请选择生日\";\r\n\t\t\t\t\tthis.address = province == 0 ? '请选择地区' : [res.data.data.province_name, res.data.data.city_name, res.data.data.district_name];\r\n\t\t\t\t\tthis.addressCode = [province, city, district];\r\n\t\t\t\t\tlet updateData = {\"head_pic\": head_pic, \"nickName\": nickname}\r\n\t\t\t\t\tthis.update(updateData);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 上传头像\r\n\t\t\tupfilePortrait() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tuni.authorize({\r\n\t\t\t\t\tscope: 'scope.camera',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tuni.chooseImage({ // 从本地相册选择图片或使用相机拍照。\r\n\t\t\t\t\t\t\tcount: 1,\r\n\t\t\t\t\t\t\tsizeType: ['original', 'compressed'], //original 原图，compressed 压缩图，默认二者都有\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tlet fileList = res.tempFilePaths[0];\r\n\t\t\t\t\t\t\t\t_this.uploadImage(fileList);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: '您已拒绝授权，是否去设置打开？',\r\n\t\t\t\t\t\t\tconfirmText: \"确认\",\r\n\t\t\t\t\t\t\tcancelText: \"取消\",\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.openSetting({\r\n\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 上传图片\r\n\t\t\tuploadImage(fileList) {\r\n\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\turl: `${req.common.baseUrl}User/uploadImages`,\r\n\t\t\t\t\tfilePath:fileList ,\r\n\t\t\t\t\tname: 'file',\r\n\t\t\t\t\theader: {\"Content-Type\": \"multipart/form-data\"},\r\n\t\t\t\t\tformData: {\r\n\t\t\t\t\t\tfile: fileList,\r\n\t\t\t\t\t\ttoken:this.$store.state.user.token,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tlet result = JSON.parse(res.data);\r\n\t\t\t\t\t\tif(result.code === '0000') {\r\n\t\t\t\t\t\t\tthis.head_pic = result.data.src;\n\t\t\t\t\t\t\tlet obj = {head_pic: this.head_pic, token:this.$store.state.user.token};\n\t\t\t\t\t\t\tthis.updateInfo(obj)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 修改昵称\r\n\t\t\tnicknameLinkTo() {\r\n\t\t\t\tlet info = {\r\n\t\t\t\t\tinputType: \"text\",\r\n\t\t\t\t\ttitle: \"昵称修改\",\r\n\t\t\t\t\tinputItem: true,\r\n\t\t\t\t\ttype: \"nickname\",\r\n\t\t\t\t\tvalue: this.nickname,\r\n\t\t\t\t\tplaceholderText: \"请输入昵称\",\r\n\t\t\t\t\turl: \"User/updateUserInfo\",\r\n\t\t\t\t\tsuccessText: \"添加成功\"\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `../page-editor/page-editor?info=${JSON.stringify(info)}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 修改手机号码\r\n\t\t\tmobileLinkTo() {\r\n\t\t\t\tlet info = {\r\n\t\t\t\t\tinputType: \"number\",\r\n\t\t\t\t\ttitle: \"手机号码修改\",\r\n\t\t\t\t\tinputItem: true,\r\n\t\t\t\t\ttype: \"mobile\",\r\n\t\t\t\t\tvalue: this.mobile,\r\n\t\t\t\t\tplaceholderText: \"请输入手机号码\",\r\n\t\t\t\t\turl: \"User/updateUserInfo\",\r\n\t\t\t\t\tsuccessText: \"添加成功\"\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `../page-editor/page-editor?info=${JSON.stringify(info)}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetPhoneNumber(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tif(e.detail.errMsg==\"getPhoneNumber:ok\"){\r\n\t\t\t\t\tthis.$H.post('Index/getUserPhone',{\r\n\t\t\t\t\t\tcode: e.detail.code,\r\n\t\t\t\t\t\topenid: this.$store.state.user.userInfo.openid\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tthis.__init();\r\n\t\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\tif(err.msg){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: err.msg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({title: \"您已拒绝授权\", icon: \"none\"})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 修改性别\r\n\t\t\tsexPickerChange(e) {\r\n\t\t\t\tthis.sexIndex = e.detail.value;\r\n\t\t\t\tlet obj = {sex: this.sexIndex, token:this.$store.state.user.token};\r\n\t\t\t\tthis.updateInfo(obj)\r\n\t\t\t},\r\n\t\t\t// 修改生日\r\n\t\t\tbirthdayChange(e) {\r\n\t\t\t\tthis.birthday = e.target.value;\r\n\t\t\t\tlet obj = {birthday: this.birthday, token:this.$store.state.user.token};\r\n\t\t\t\tthis.updateInfo(obj)\r\n\t\t\t},\r\n\t\t\t// 修改地区\r\n\t\t\tbindPickerChange(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.address = e.detail.value;\r\n\t\t\t\tthis.addressCode = e.detail.code;\r\n\t\t\t\tlet obj = {province: this.addressCode[0], city: this.addressCode[1], district: this.addressCode[2], token:this.$store.state.user.token};\r\n\t\t\t\tthis.updateInfo(obj)\r\n\t\t\t},\r\n\t\t\tupdateInfo(obj) {\r\n\t\t\t\tthis.$H.post('User/updateUserInfo', obj).then((res)=> {\r\n\t\t\t\t\tif(res.code === '0000') {\r\n\t\t\t\t\t\tthis.__init();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tupdateInfoBtn() {\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\thead_pic: this.head_pic,\r\n\t\t\t\t\tnickname: this.nickname, \r\n\t\t\t\t\tsex: this.sexIndex, \r\n\t\t\t\t\tbirthday: this.birthday, \r\n\t\t\t\t\tprovince: this.addressCode[0] ? this.addressCode[0] : 0, \r\n\t\t\t\t\tcity: this.addressCode[1] ? this.addressCode[1] : 0, \r\n\t\t\t\t\tdistrict: this.addressCode[2] ? this.addressCode[2] : 0,\r\n\t\t\t\t\ttoken:this.$store.state.user.token,\r\n\t\t\t\t};\r\n\t\t\t\tthis.updateInfo(obj)\r\n\t\t\t},\r\n\t\t\tlinkTo() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"../address/address\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.my-info {\r\n\t\t.item {\r\n\t\t\t.text2 {\r\n\t\t\t\tcolor: #b6b6b6;\r\n\t\t\t}\r\n\r\n\t\t\t.photo {\r\n\t\t\t\twidth: 80rpx;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.item-re {\r\n\t\t\t\twidth: 436rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.phone {\r\n\t\t\tbackground-color: #00332A !important; \r\n\t\t\tborder: none !important;\r\n\t\t}\r\n\t\t.send {\r\n\t\t\tline-height: 88rpx;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my-info.vue?vue&type=style&index=0&id=52d94f66&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../xdt/software/hbuiderx/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./my-info.vue?vue&type=style&index=0&id=52d94f66&lang=scss&scoped=true&\""],"sourceRoot":""}